<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PTG Survey Web App</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header>
  <div class="wrap">
    <div class="brand">
      <div class="badge">
        <span class="dot"></span>
        <h1>Perfect Timing Gaming — Surveys (Low-Typing Build)</h1>
      </div>
      <span class="pill">Money Green • Gold • Black</span>
    </div>

    <div class="nav">
      <button class="btn primary" data-nav="home">Home</button>
      <button class="btn" data-nav="public">Public Survey</button>
      <button class="btn" data-nav="internal">Internal 119 Survey</button>
      <button class="btn" data-nav="admin">Admin (This Device)</button>
    </div>

    <div class="small" style="margin-top:10px">
      ✅ No accounts required for responders. Saves locally on device.
      Email submit uses <span class="kbd">mailto:</span> to <b>changethewrld@outlook.com</b>.
      (Static hosting cannot auto-send email without a backend.)
    </div>
  </div>
</header>

<main class="wrap">

  <!-- HOME -->
  <section id="home" class="grid cols2">
    <div class="card">
      <h2>What you’re getting</h2>
      <div class="small">
        <ul>
          <li><b>Public market survey</b>: mostly click/select (low typing)</li>
          <li><b>Internal 119 definitions</b>: click-first answers + optional notes + CEO reference answers</li>
          <li><b>Download</b> results as .txt or .json</li>
          <li><b>Email</b> results (prefilled email) to <b>changethewrld@outlook.com</b></li>
          <li><b>Role suggestion system</b> from Public responses: GM / OPS / COMM / TECH / CASH</li>
        </ul>
      </div>

      <hr/>

      <h3>Internal Survey — 5 Sections (Locked)</h3>
      <div class="small">
        1) Brand & Voice (Q1–Q26)<br/>
        2) Competitors & Market (Q27–Q39)<br/>
        3) Pricing & Finance (Q40–Q50)<br/>
        4) Legal & Risk (Q51–Q60)<br/>
        5) Operations, Systems, QX, Execution (Q61–Q119)
      </div>

      <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:14px">
        <button class="btn gold" data-nav="public">Open Public Survey</button>
        <button class="btn primary" data-nav="internal">Open Internal 119</button>
      </div>
    </div>

    <div class="card">
      <h2>Role Routing</h2>
      <div class="small">
        Public survey answers auto-suggest a PTG position:
        <br/><br/>
        <b>CEO</b> (manual only)<br/>
        → <b>General Manager (GM)</b><br/>
        → <b>Operations Lead (OPS)</b><br/>
        → <b>Community & Events Lead (COMM)</b><br/>
        → <b>Tech & Media Lead (TECH)</b><br/>
        → <b>Cashier / Front Desk (CASH)</b><br/><br/>
        Suggestion is deterministic (no guessing).
      </div>

      <hr/>

      <h3>PTG Mission Anchor</h3>
      <div class="small">
        Assist others with personal ascension through <b>video games</b>, <b>music</b>, and <b>media</b> —
        with fair play, calm energy, and community-first systems.
      </div>
    </div>
  </section>

  <!-- PUBLIC -->
  <section id="public" class="card">
    <h2>Public Market Research Survey (Low Typing)</h2>
    <div class="small">Mostly click/select. Only 2 optional short-text questions at the end.</div>
    <hr/>

    <form id="publicForm">

      <fieldset>
        <legend>Identity</legend>

        <div class="grid cols2">
          <div>
            <label>Name *</label>
            <div class="row">
              <label class="check"><input type="radio" name="name_mode" value="Anonymous" checked> <span>Anonymous</span></label>
              <label class="check"><input type="radio" name="name_mode" value="Named"> <span>I’ll enter my name</span></label>
            </div>
            <input id="name" data-q="name" type="text" placeholder="Your name (only if you chose to enter it)" disabled />
          </div>

          <div>
            <label>Age Range *</label>
            <select data-q="age_range" required>
              <option value="" disabled selected>Select…</option>
              <option>Under 13</option>
              <option>13–17</option>
              <option>18–24</option>
              <option>25–34</option>
              <option>35+</option>
            </select>
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend>Gaming Habits</legend>

        <div>
          <label>Where do you usually play? (pick all that apply) *</label>
          <div class="checks">
            <label class="check"><input data-q="play_where" type="checkbox" value="Home"> <span>Home</span></label>
            <label class="check"><input data-q="play_where" type="checkbox" value="Online"> <span>Online</span></label>
            <label class="check"><input data-q="play_where" type="checkbox" value="Friend’s house"> <span>Friend’s house</span></label>
            <label class="check"><input data-q="play_where" type="checkbox" value="Arcade/Lounge"> <span>Arcade/Lounge</span></label>
            <label class="check"><input data-q="play_where" type="checkbox" value="Other"> <span>Other</span></label>
          </div>
        </div>

        <div>
          <label>Game types you enjoy (pick up to 3) *</label>
          <div class="checks" id="gameTypes">
            <label class="check"><input data-q="game_types" type="checkbox" value="Sports"> <span>Sports</span></label>
            <label class="check"><input data-q="game_types" type="checkbox" value="Fighting"> <span>Fighting</span></label>
            <label class="check"><input data-q="game_types" type="checkbox" value="Shooter"> <span>Shooter</span></label>
            <label class="check"><input data-q="game_types" type="checkbox" value="Rhythm/Music"> <span>Rhythm / Music</span></label>
            <label class="check"><input data-q="game_types" type="checkbox" value="Retro"> <span>Retro</span></label>
            <label class="check"><input data-q="game_types" type="checkbox" value="Party/Casual"> <span>Party / Casual</span></label>
          </div>
          <div class="small">Limit: 3 selections.</div>
        </div>
      </fieldset>

      <fieldset>
        <legend>Lounge Interest</legend>

        <div>
          <label>How interested are you in a local gaming lounge? *</label>
          <div class="range">
            <input data-q="interest_lounge" type="range" min="1" max="10" value="7" />
            <span class="kbd" data-range="interest_lounge">7</span>
          </div>
        </div>

        <div>
          <label>Main reason you’d visit *</label>
          <div class="row">
            <label class="check"><input data-q="reason_visit" type="radio" name="reason_visit" value="Competition" required> <span>Competition</span></label>
            <label class="check"><input data-q="reason_visit" type="radio" name="reason_visit" value="Hangout"> <span>Hangout</span></label>
            <label class="check"><input data-q="reason_visit" type="radio" name="reason_visit" value="Events"> <span>Events</span></label>
            <label class="check"><input data-q="reason_visit" type="radio" name="reason_visit" value="Try new games"> <span>Try new games</span></label>
            <label class="check"><input data-q="reason_visit" type="radio" name="reason_visit" value="Music + gaming"> <span>Music + gaming</span></label>
          </div>
        </div>

        <div>
          <label>When would you attend? (pick all) *</label>
          <div class="checks">
            <label class="check"><input data-q="times_attend" type="checkbox" value="After school"> <span>After school</span></label>
            <label class="check"><input data-q="times_attend" type="checkbox" value="Weeknights"> <span>Weeknights</span></label>
            <label class="check"><input data-q="times_attend" type="checkbox" value="Weekends"> <span>Weekends</span></label>
            <label class="check"><input data-q="times_attend" type="checkbox" value="Late night"> <span>Late night</span></label>
          </div>
        </div>

        <div class="grid cols2">
          <div>
            <label>How often would you visit per month? *</label>
            <select data-q="visit_freq" required>
              <option value="" disabled selected>Select…</option>
              <option>1</option><option>2–3</option><option>Weekly</option><option>Multiple times weekly</option>
            </select>
          </div>
          <div>
            <label>How far would you travel? *</label>
            <select data-q="travel_minutes" required>
              <option value="" disabled selected>Select…</option>
              <option>0–10 minutes</option>
              <option>10–20 minutes</option>
              <option>20–30 minutes</option>
              <option>30–45 minutes</option>
              <option>45+ minutes</option>
            </select>
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend>Pricing & Trust</legend>

        <div class="grid cols2">
          <div>
            <label>Fair price for ~2 hours? *</label>
            <select data-q="fair_price" required>
              <option value="" disabled selected>Select…</option>
              <option>$5–10</option>
              <option>$10–15</option>
              <option>$15–20</option>
              <option>Depends on experience</option>
            </select>
          </div>
          <div>
            <label>Payment style you prefer *</label>
            <div class="row">
              <label class="check"><input data-q="pay_style" type="radio" name="pay_style" value="Pay-as-you-go" required> <span>Pay-as-you-go</span></label>
              <label class="check"><input data-q="pay_style" type="radio" name="pay_style" value="Membership"> <span>Membership</span></label>
              <label class="check"><input data-q="pay_style" type="radio" name="pay_style" value="Both"> <span>Both</span></label>
            </div>
          </div>
        </div>

        <div>
          <label>What matters more to you? *</label>
          <div class="row">
            <label class="check"><input data-q="matters_more" type="radio" name="matters_more" value="Cheaper price" required> <span>Cheaper price</span></label>
            <label class="check"><input data-q="matters_more" type="radio" name="matters_more" value="Clean + respectful environment"> <span>Clean + respectful environment</span></label>
          </div>
        </div>

        <div>
          <label>What event sounds most fun? *</label>
          <select data-q="fun_event" required>
            <option value="" disabled selected>Select…</option>
            <option>Weekly tournament</option>
            <option>Ladder league</option>
            <option>Casual free-play night</option>
            <option>Music + gaming night</option>
            <option>Learn-to-play clinic</option>
          </select>
        </div>

        <div>
          <label>What builds trust fast? (pick up to 2) *</label>
          <div class="checks" id="trustPicks">
            <label class="check"><input data-q="trust_builders" type="checkbox" value="Clear rules"> <span>Clear rules</span></label>
            <label class="check"><input data-q="trust_builders" type="checkbox" value="Respectful staff"> <span>Respectful staff</span></label>
            <label class="check"><input data-q="trust_builders" type="checkbox" value="Clean space"> <span>Clean space</span></label>
            <label class="check"><input data-q="trust_builders" type="checkbox" value="Fair pricing"> <span>Fair pricing</span></label>
            <label class="check"><input data-q="trust_builders" type="checkbox" value="Good equipment"> <span>Good equipment</span></label>
            <label class="check"><input data-q="trust_builders" type="checkbox" value="Friendly community"> <span>Friendly community</span></label>
          </div>
          <div class="small">Limit: 2 selections.</div>
        </div>
      </fieldset>

      <fieldset>
        <legend>PTG Values</legend>

        <div>
          <label>How important is a calm, non-toxic environment? *</label>
          <div class="range">
            <input data-q="non_toxic" type="range" min="1" max="10" value="8" />
            <span class="kbd" data-range="non_toxic">8</span>
          </div>
        </div>

        <div class="grid cols2">
          <div>
            <label>Have you avoided gaming spaces due to drama/toxicity? *</label>
            <div class="row">
              <label class="check"><input data-q="avoided_spaces" type="radio" name="avoided_spaces" value="Yes" required> <span>Yes</span></label>
              <label class="check"><input data-q="avoided_spaces" type="radio" name="avoided_spaces" value="No"> <span>No</span></label>
            </div>
          </div>
          <div>
            <label>Youth-friendly rules + respectful staff increases trust? *</label>
            <select data-q="youth_rules_interest" required>
              <option value="" disabled selected>Select…</option>
              <option>Yes</option><option>No</option><option>Not sure</option>
            </select>
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend>Optional (Short)</legend>
        <div class="grid cols2">
          <div>
            <label>One thing that would make you come back (optional)</label>
            <input data-q="come_back_reason" type="text" maxlength="80" placeholder="Short answer (max 80 chars)" />
          </div>
          <div>
            <label>One thing that would make you leave (optional)</label>
            <input data-q="leave_reason" type="text" maxlength="80" placeholder="Short answer (max 80 chars)" />
          </div>
        </div>
      </fieldset>

      <button class="btn gold" type="submit">Save Response</button>
    </form>

    <div id="publicActions" class="grid" style="display:none; margin-top:14px">
      <div class="card">
        <div class="small">Assigned Role Suggestion: <b id="publicAssigned"></b></div>
        <div class="small" id="publicSaved"></div>
        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px">
          <button class="btn" id="publicDownload" type="button">Download .txt</button>
          <button class="btn primary" id="publicEmail" type="button">Email to changethewrld@outlook.com</button>
          <button class="btn" id="publicEmailBlank" type="button">Open blank email draft</button>
          <button class="btn" id="publicEml" type="button">Download .eml draft</button>
        </div>
      </div>
    </div>

  </section>

  <!-- INTERNAL -->
  <section id="internal" class="card">
    <h2>Internal 119 Definition Survey (Click-First)</h2>
    <div class="small">
      Each question has a <b>CEO reference answer</b> (expand). Most answers are click/select.
      Optional “Notes” appears only when needed.
    </div>
    <hr/>

    <form id="internalForm">
      <div class="grid cols2">
        <div>
          <label>Responder *</label>
          <select id="internalResponder" required>
            <option value="" disabled selected>Select…</option>
            <option>Dr. Zoom (CEO)</option>
            <option>Staff</option>
            <option>Partner</option>
            <option>Other</option>
          </select>
        </div>
        <div>
          <label>Responder Name (optional)</label>
          <input id="internalName" type="text" placeholder="If needed…" />
        </div>
      </div>

      <div id="internalInjected"></div>

      <button class="btn gold" type="submit">Save Internal Response</button>
    </form>

    <div id="internalActions" class="grid" style="display:none; margin-top:14px">
      <div class="card">
        <div class="small" id="internalSaved"></div>
        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px">
          <button class="btn" id="internalDownload" type="button">Download .txt</button>
          <button class="btn primary" id="internalEmail" type="button">Email to changethewrld@outlook.com</button>
          <button class="btn" id="internalEml" type="button">Download .eml draft (all 119)</button>
          <div class="small" style="margin-top:8px">If email drafts are too long on your device, use the .eml download for the full 119.</div>
          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px">
            <button class="btn" id="internalEmailS1" type="button">Open email draft (Section 1)</button>
            <button class="btn" id="internalEmailS2" type="button">Open email draft (Section 2)</button>
            <button class="btn" id="internalEmailS3" type="button">Open email draft (Section 3)</button>
            <button class="btn" id="internalEmailS4" type="button">Open email draft (Section 4)</button>
            <button class="btn" id="internalEmailS5" type="button">Open email draft (Section 5)</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ADMIN -->
  <section id="admin" class="card">
    <h2>Admin (This Device Only)</h2>
    <div class="small">Responses are saved locally to the device using LocalStorage.</div>
    <hr/>
    <div style="display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px">
      <button class="btn" id="exportJson" type="button">Export JSON</button>
      <button class="btn danger" id="clearAll" type="button">Clear All Local Responses</button>
    </div>
    <table class="table">
      <thead>
        <tr>
          <th>#</th><th>Type</th><th>Name</th><th>Age</th><th>Role</th><th>Created</th><th>View</th>
        </tr>
      </thead>
      <tbody id="adminTbody"></tbody>
    </table>
  </section>

  <dialog id="modal" style="max-width:900px; width:92%; background: rgba(0,0,0,.92); color:#fff; border:1px solid rgba(255,255,255,.18); border-radius:16px; padding:0">
    <div class="card" style="margin:0; border:none; border-radius:16px">
      <div style="display:flex; justify-content:space-between; align-items:center; gap:10px">
        <h2 style="margin:0">Response (Raw JSON)</h2>
        <button class="btn" id="modalClose" type="button">Close</button>
      </div>
      <pre id="modalPre" style="white-space:pre-wrap; word-break:break-word; font-size:12px; color:#cfcfcf"></pre>
    </div>
  </dialog>

  <div class="footer">
    PTG Survey Web App — low-typing build. Static hosting + mailto for email submission.
  </div>
</main>

<script src="app.js"></script>
</body>
</html>
